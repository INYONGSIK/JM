<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<link rel="stylesheet" th:href="@{/bootswatch/bootstrap.min.css}"/>


<th:block th:replace="header :: header">

</th:block>

<body>

<h1>메인페이지 exam</h1>

<!--현호 ==> 검색창-->
<form action="/musicSearch">
    <input type="text" name="keyword">
    <input type="submit" value="가수,제목 검색">
</form>

<div>
    <input type="button" value="버튼" id="button1" onclick="button1_click();">
    <button id="getAjax">Ajax</button>
    <form method="post" name="testForm">
        <input type="text" name="title" id="title">문자열 작성
    </form>
    <button id="postAjax">AjaxPost</button>
    <a href="/boardList">게시판</a>
    <th:block th:unless="${session.user_email}">
        <a href="/loginform">로그인</a></th:block>
    <a href="/registerform">회원가입</a>
    <a href="/modifyinformationform">회워정보 수정</a>
    <th:block th:if="${session.user_email}"><a href="/logout">로그아웃</a></th:block>
    <a href="/listPM">플레이리스트</a>
    <div id="content"></div>
</div>

<br><br>
<div>
    <input type="text" id="msg"/>
    <button id="btnSend">Send Message</button>
    <div id="asd"></div>
</div>
<script>
      $("#btnSend").on("click", function (evt) {
      evt.preventDefault();
    <!-- readyState == 1 이면 연결상태 , readyState == 3 이면 close 상태 -->
      if (socket.readyState != 1) return;
      let msg = $("input#msg").val();
      $("#asd").text(msg);
      socket.send(msg);
    });



</script>






</script>

</body>
</html>

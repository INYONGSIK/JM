<!DOCTYPE html>
<html lang="en" xmlns:th="www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>음악 검색</title>

    <script src="https://code.jquery.com/jquery-3.6.1.js"
            integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>


    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="webapp/css/bootstrapLux.css"/>

</head>
<body>

<th:block th:replace="~{navHeader :: navi}"></th:block>

<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>


<h2>음악 검색 결과</h2>
<!--<script>-->
<!--    $(document).ready(function () {-->
<!--         $('#example').DataTable();-->
<!--        });-->

<!--</script>-->
<!--<table border="1" cellpadding="10">-->
<table class="table table-hover" width="100" id="example">


    <thead>
    <tr class="table-dark">
        <th scope="col"></th>
        <th scope="col">장르</th>
        <th scope="col">제목</th>
        <th scope="col">가수</th>
        <th scope="col">좋아요 개수</th>
        <th scope="col"></th>
    </tr>
    </thead>

    <tbody>
    <tr th:each="music : ${musics}" class="table-active">
        <td>
            <img th:src="${music.music_image}" width="50" alt="음악사진">
        </td>
        <td>[[${music.music_genre}]]</td>
        <td>[[${music.music_title}]]</td>
        <td>[[${music.music_singer}]]</td>
        <td>[[${music.music_like}]]</td>
        <td><audio controls>
            <source th:src="${music.music_file}">
        </audio></td>
    </tr>
    </tbody>

</table>


<!--<script>-->

<!--    var $setRows = $('#setRows');-->

<!--$setRows.submit(function (e) {-->
<!--	e.preventDefault();-->
<!--	var rowPerPage = $('[name="rowPerPage"]').val() * 1;// 1 을  곱하여 문자열을 숫자형로 변환-->

<!--//		console.log(typeof rowPerPage);-->

<!--	var zeroWarning = 'Sorry, but we cat\'t display "0" rows page. + \nPlease try again.'-->
<!--	if (!rowPerPage) {-->
<!--		alert(zeroWarning);-->
<!--		return;-->
<!--	}-->
<!--	$('#nav').remove();-->
<!--	var $products = $('#products');-->

<!--	$products.after('<div id="nav">');-->


<!--	var $tr = $($products).find('tbody tr');-->
<!--	var rowTotals = $tr.length;-->
<!--//	console.log(rowTotals);-->

<!--	var pageTotal = Math.ceil(rowTotals/ rowPerPage);-->
<!--	var i = 0;-->

<!--	for (; i < pageTotal; i++) {-->
<!--		$('<a href="#"></a>')-->
<!--				.attr('rel', i)-->
<!--				.html(i + 1)-->
<!--				.appendTo('#nav');-->
<!--	}-->

<!--	$tr.addClass('off-screen')-->
<!--			.slice(0, rowPerPage)-->
<!--			.removeClass('off-screen');-->

<!--	var $pagingLink = $('#nav a');-->
<!--	$pagingLink.on('click', function (evt) {-->
<!--		evt.preventDefault();-->
<!--		var $this = $(this);-->
<!--		if ($this.hasClass('active')) {-->
<!--			return;-->
<!--		}-->
<!--		$pagingLink.removeClass('active');-->
<!--		$this.addClass('active');-->

<!--		// 0 => 0(0*4), 4(0*4+4)-->
<!--		// 1 => 4(1*4), 8(1*4+4)-->
<!--		// 2 => 8(2*4), 12(2*4+4)-->
<!--		// 시작 행 = 페이지 번호 * 페이지당 행수-->
<!--		// 끝 행 = 시작 행 + 페이지당 행수-->

<!--		var currPage = $this.attr('rel');-->
<!--		var startItem = currPage * rowPerPage;-->
<!--		var endItem = startItem + rowPerPage;-->

<!--		$tr.css('opacity', '0.0')-->
<!--				.addClass('off-screen')-->
<!--				.slice(startItem, endItem)-->
<!--				.removeClass('off-screen')-->
<!--				.animate({opacity: 1}, 300);-->

<!--	});-->

<!--	$pagingLink.filter(':first').addClass('active');-->

<!--});-->


<!--$setRows.submit();-->


<!--</script>-->
</body>
</html>
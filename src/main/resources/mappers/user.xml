<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ucamp.JM.dao.UserDAO">

    <!--용식: 이메일로 유저 정보 가져오기-->
    <select id="getUserInfoByEmail" resultType="user" parameterType="String">
        select * from jmuser where user_email = #{user_email}
    </select>

    <select id="getUserInfoByNickname" resultType="user" parameterType="String">
        select * from jmuser where user_nickname = #{user_nickname}
    </select>

    <!--용식: 회원가입 유저 정보 insert-->
    <insert id="insertUser" parameterType="user">
        insert into jmuser
        (user_number ,user_nickname, user_email, user_password, user_name, user_birthday, user_phone_number, user_genre
        ,user_image, type)
        values (user_number.nextval, #{user_nickname}, #{user_email}, #{user_password}, #{user_name},
        #{user_birthday},#{user_phone_number},#{user_genre},#{user_image},#{type})
    </insert>

    <delete id="deleteUser" parameterType="String">
        delete * from jmuser where user_email = #{user_email} and user_password = #{user_password}
    </delete>

    <update id="updatePassword" parameterType="map">
        <![CDATA[
        update jmuser set user_password = #{user_password} where user_email = #{user_email}
        ]]>
    </update>
</mapper>